<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These functions convert among different ways of referencing
locations in BirdFlow models and output. They convert among the
spatial coordinates (x and y), raster row and col indices, and the
index i along a location vector. latlon_to_xy() and xy_to_latlon()
convert between WGS 1984 latitude and longitude and x and y coordinates
in a BirdFlow object's coordinate reference system (CRS)."><title>Functions to convert among spatial indices — index conversions • BirdFlowR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions to convert among spatial indices — index conversions"><meta property="og:description" content="These functions convert among different ways of referencing
locations in BirdFlow models and output. They convert among the
spatial coordinates (x and y), raster row and col indices, and the
index i along a location vector. latlon_to_xy() and xy_to_latlon()
convert between WGS 1984 latitude and longitude and x and y coordinates
in a BirdFlow object's coordinate reference system (CRS)."><meta property="og:image" content="https://birdflow-science.github.io/BirdFlowR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BirdFlowR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.1.0.9062</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BirdFlowR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/BirdFlowOverview.html">BirdFlow Model Overview, Uses, and Limitations</a>
    <a class="dropdown-item" href="../articles/Installation.html">Detailed installation instructions</a>
    <a class="dropdown-item" href="../articles/Preprocess.html">Preprocess and sparsify</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/birdflow-science/BirdFlowR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Functions to convert among spatial indices</h1>
      <small class="dont-index">Source: <a href="https://github.com/birdflow-science/BirdFlowR/blob/HEAD/R/index_conversions.R" class="external-link"><code>R/index_conversions.R</code></a></small>
      <div class="d-none name"><code>index_conversions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions convert among different ways of referencing
locations in BirdFlow models and output. They convert among the
spatial coordinates (x and y), raster row and col indices, and the
index <code>i</code> along a location vector. <code>latlon_to_xy()</code> and <code>xy_to_latlon()</code>
convert between WGS 1984 latitude and longitude and x and y coordinates
in a BirdFlow object's coordinate reference system (CRS).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">x_to_col</span><span class="op">(</span><span class="va">x</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">y_to_row</span><span class="op">(</span><span class="va">y</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">row_to_y</span><span class="op">(</span><span class="va">row</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">col_to_x</span><span class="op">(</span><span class="va">col</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_rc</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_row</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_col</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_x</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_y</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">i_to_xy</span><span class="op">(</span><span class="va">i</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rc_to_i</span><span class="op">(</span><span class="va">row</span>, <span class="va">col</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">xy_to_i</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">latlon_to_xy</span><span class="op">(</span><span class="va">lat</span>, <span class="va">lon</span>, <span class="va">bf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">xy_to_latlon</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">bf</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x, y</dt>
<dd><p>x and y coordinates in the BirdFlow model's CRS.
This typically represents an easting and northing in meters. For functions
that require both <code>x</code> and <code>y</code> a two column matrix or data.frame
containing <code>x</code> and <code>y</code> columns in that order can be passed to <code>x</code> in
which case <code>y</code> should be omitted.</p></dd>


<dt>bf</dt>
<dd><p>A BirdFlow model.</p></dd>


<dt>row, col</dt>
<dd><p>The row and column index of a cell in the BirdFlow model and
associated raster data. Alternatively, a two column matrix or data.frame
containing row and column indices in columns 1 and 2 respectively can be
passed to <code>row</code> in which case the <code>col</code> argument should be omitted.</p></dd>


<dt>i</dt>
<dd><p>The index along a state vector that contains the data for
unmasked cells.</p></dd>


<dt>lat, lon</dt>
<dd><p>The latitude and longitude in WGS 1984 (EPSG:4326). A two
column matrix or data frame can also be passed to lat.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<dl><dt><code>x_to_col(x, bf)</code> and <code>y_to_row(y, bf)</code></dt>
<dd><p>Return the column or row
index that each <code>x</code> or <code>y</code> coordinate falls within.</p></dd>


<dt><code>row_to_y(row, bf)</code> and <code>col_to_x(col, bf)</code></dt>
<dd><p>Return the y or x
coordinate of the center each row or column.</p></dd>


<dt><code>i_to_row(i, bf)</code> and <code>i_to_col(i, bf)</code></dt>
<dd><p>Return the row or column
index corresponding to the vector state index, <code>i</code>.</p></dd>


<dt><code>i_to_rc(i, bf)</code></dt>
<dd><p>Returns a two column matrix of the row and column
index in the raster corresponding to the index, <code>i</code> of the vector state.</p></dd>


<dt><code>i_to_x(i, bf)</code> and <code>i_to_y(i, bf)</code></dt>
<dd><p>Return the x or y coordinate
from the vector state index, <code>i</code>.</p></dd>


<dt><code>i_to_xy(i, bf)</code></dt>
<dd><p>Returns a two column matrix of the x and y
coordinates corresponding to the index, <code>i</code> of the vector state space.</p></dd>


<dt><code>rc_to_i(row, col, bf)</code> and <code>xy_to_i(x, y, bf)</code></dt>
<dd><p>Return the state
space index corresponding to x and y coordinates or row and column indices.</p></dd>


</dl><dl><dt><code>latlon_to_xy(lat, lon, bf)</code></dt>
<dd><p>Returns a two column matrix of the x
and y coordinates corresponding to the supplied latitude and longitude. The
output is in the CRS of <code>bf</code> (<code>crs(bf)</code>).</p></dd>


<dt><code>xy_to_latlon(x, y, bf)</code></dt>
<dd><p>Returns a two column matrix of the
latitude and longitude of points in WGS84 given their coordinates in the
BirdFlow object's CRS.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In general, these functions mirror NA input in output; and
functions that return rows, columns, or the index (<code>i</code>) will return NA
if the input isn't within the extent; or for (<code>i</code>) within the active cells.</p>
<p>For most CRSs longitude translates to the x coordinate and
latitude to the y coordinate. The traditional order of coordinates
latitude and longitude; row and column, and x and y are not consistent, but
that is still what is used here, i.e. latitude, row, and y are generally
correlated, and are first, first, and second in argument order.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="expand_distr.html">expand_distr()</a></code> converts a vector distribution into it's raster (matrix)
equivalent or a matrix (representing multiple distributions) into an array
equivalent.</p></li>
<li><p><code><a href="rasterize.html">rasterize_distr()</a></code> converts a vector distribution into a
<a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">terra::SpatRaster</a> - similar to those created by <code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">terra::rast()</a></code>.</p></li>
</ul></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ethan Plunkett, National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

