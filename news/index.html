<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • BirdFlowR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BirdFlowR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9054</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BirdFlowR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Installation.html">Detailed installation instructions</a>
    <a class="dropdown-item" href="../articles/Preprocess.html">Preprocess and sparsify</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9054" id="birdflowr-0009054">BirdflowR 0.0.0.9054<a class="anchor" aria-label="anchor" href="#birdflowr-0009054"></a></h2>
<p>2023-03-30</p>
<ul><li><p>New interval_loglikelihood() calculates log likelihood for banding and tracking data given a BirdFlow model.</p></li>
<li><p>new supporting functions:</p></li>
<li><p><code><a href="../reference/build_transitions.html">drop_transitions()</a></code></p></li>
<li><p><code><a href="../reference/is_location_valid.html">is_location_valid()</a></code>, <code><a href="../reference/is_location_valid.html">is_distr_valid()</a></code> test whether locations and distributions are valid inputs for <code><a href="https://rdrr.io/pkg/terra/man/predict.html" class="external-link">predict()</a></code> and <code><a href="../reference/route.html">route()</a></code></p></li>
<li><p><code><a href="../reference/lookup_timestep.html">lookup_timestep()</a></code></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9022" id="birdflowr-0009022">BirdflowR 0.0.0.9022<a class="anchor" aria-label="anchor" href="#birdflowr-0009022"></a></h2>
<p>2023-03-27</p>
<ul><li><p><code><a href="../reference/get_naturalearth.html">get_naturalearth()</a></code> and related functions now throw a helpful warning if the extent is empty, and, as before, return an empty <code>sf</code> object.</p></li>
<li><p><code><a href="../reference/get_naturalearth.html">get_naturalearth()</a></code> has an improved, more robust way of processing the vector data that works for specific projections. Currently it is used only for Mollweide (“moll”) and Lambert equal area (“laea”) based CRSs.</p></li>
<li><p><code><a href="../reference/get_naturalearth.html">get_naturalearth()</a></code> has a new argument <code>match_extent</code> which if set to <code>TRUE</code> causes the result to be clipped to the precise extent of the input object (<code>x</code>). Use <code>TRUE</code> when plotting with ggplot2 so that the Natural Earth data doesn’t result in an expanded plot extent. The default, <code>FALSE</code> is appropriate for base R plotting so that the Natural Earth Data runs up to and beyond the edge of the plot regardless of whether the aspect ratio of <code>x</code> matches the plot window’s.</p></li>
<li><p><code><a href="../reference/get_naturalearth.html">get_naturalearth()</a></code> has a new argument <code>use_old_method</code> which, if TRUE forces the less robust method regardless of projection. It is there only for testing the function and should be left at the default for all other uses.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9044" id="birdflowr-0009044">BirdFlowR 0.0.0.9044<a class="anchor" aria-label="anchor" href="#birdflowr-0009044"></a></h2>
<ul><li><p>new function <code>build_transitions(x)</code> will populate <code>x$transitions</code> with both forward and backwards transitions. This is recommended before repeated <code>forecast()</code> or predict calls as it avoids repeatedly making transitions on the fly. It does triple the memory usage for the BirdFlow object so should probably only be done with sparse BirdFlow models. It currently will work on any but throws a warning if the BirdFlow model is not sparse.</p></li>
<li><p>previously <code>transitions_from_marginal()</code> produced a standard matrix. Now, if the mariginal is a sparse the conversion is done on and preserves the sparse matrix. Similarly, if the transition matrix is sparse <code><a href="https://rdrr.io/pkg/terra/man/predict.html" class="external-link">predict()</a></code> and <code><a href="../reference/route.html">route()</a></code> both calculate on sparse objects. This should speed those two functions up significantly.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9036" id="birdflowr-0009036">BirdFlowR 0.0.0.9036<a class="anchor" aria-label="anchor" href="#birdflowr-0009036"></a></h2>
<ul><li>replaced <code>forecast()</code> with a BirdFlow method for <code><a href="https://rdrr.io/pkg/terra/man/predict.html" class="external-link">predict()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9033" id="birdflowr-0009033">BirdFlowR 0.0.0.9033<a class="anchor" aria-label="anchor" href="#birdflowr-0009033"></a></h2>
<p>The end result of all the time stuff enumerated below is that (1) you can set the time format, (2) as before when possible the time associated with each distribution is stored in dim names, (3) when it’s a single distribution and thus not possible to store the time in the dim names a new <code>"time"</code> attribute is added to the object to store the time associated with the distribution.</p>
<ul><li><p>new <code><a href="../reference/birdflow_options.html">birdflow_options()</a></code> allows setting global options that persist for the session. Currently there are two options <code>verbose</code> and <code>time_format</code>.</p></li>
<li><p>The <code>time_format</code> option controls the labeling of distributions either in column names if there are more than 1 distribution or via the “time” attribute (See below) if there’s a single distribution. This affects <code><a href="../reference/get_distr.html">get_distr()</a></code>, <code><a href="https://rdrr.io/pkg/terra/man/predict.html" class="external-link">predict()</a></code>, and <code><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast()</a></code>.</p></li>
<li><p><code><a href="../reference/get_distr.html">get_distr()</a></code> now adds an attribute <code>"time"</code> when returning a single distribution as a vector. Multiple distributions already used matrix column names to record the time associated with each distribution.</p></li>
<li><p>Similarly, <code><a href="../reference/expand_distr.html">expand_distr()</a></code> when called on a single distribution will preserve the <code>"time"</code> attribute in its output matrix, and <code><a href="../reference/flatten_raster.html">flatten_raster()</a></code> called on a single distribution’s raster (a matrix) will also preserve the “time” attribute in its output vector.</p></li>
<li><p><code><a href="../reference/rasterize.html">rasterize_distr()</a></code> and thus also <code><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast()</a></code> now convert the <code>"time"</code> attribute to a layer name in the output raster when there is a single distribution. They previously and still do this with the distribution column names for multiple distributions.</p></li>
<li><p>The names for the column dimension of distribution matrices has changed from “timestep” to “time” both in the internal, stored object and in returned objects from <code><a href="../reference/get_distr.html">get_distr()</a></code> and <code>forecast()</code>.</p></li>
<li><p><code><a href="../reference/fix_dead_ends.html">fix_dead_ends()</a></code>, <code><a href="../reference/preprocess_species.html">preprocess_species()</a></code>, and <code><a href="../reference/sparsify.html">sparsify()</a></code> now honor <code>birdflow_options("verbose")</code> - printing progress and information only if it is <code>TRUE</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9034" id="birdflowr-0009034">BirdFlowR 0.0.0.9034<a class="anchor" aria-label="anchor" href="#birdflowr-0009034"></a></h2>
<ul><li>Changed <code><a href="../reference/preprocess_species.html">preprocess_species()</a></code> <code>gb</code> argument to <code>gpu_ram</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9035" id="birdflowr-0009035">BirdFlowR 0.0.0.9035<a class="anchor" aria-label="anchor" href="#birdflowr-0009035"></a></h2>
<ul><li>
<code><a href="../reference/sparsify.html">sparsify()</a></code> no longer throws confusing warning (#35)</li>
<li>First argument of <code><a href="../reference/sparsify.html">sparsify()</a></code> changed from <code>bf</code> to <code>x</code> (consistent with #19)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9038" id="birdflowr-0009038">BirdFlowR 0.0.0.9038<a class="anchor" aria-label="anchor" href="#birdflowr-0009038"></a></h2>
<ul><li><p>Updated docker file to work with Apple silicon and not to use cached github repos. (commit #37)</p></li>
<li><p>Updated installation instructions for Docker (commit #37)</p></li>
<li><p>Route output snapshot testing no longer depends on the print(lines) but does check novel points in the points component of the return value. This should fix an issue currently with it failing CRAN check because sf:: changed slightly how it prints a summary of an SF object to screen and also make the snapshot test a little less hair trigger.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9028" id="birdflowr-0009028">BirdFlowR 0.0.0.9028<a class="anchor" aria-label="anchor" href="#birdflowr-0009028"></a></h2>
<p>2023-03-08</p>
<ul><li><p>New <code><a href="../articles/Preprocess.html">vignette("Preprocess")</a></code> covers preprocessing, importing, and<br>
sparsification</p></li>
<li><p>New <code><a href="../articles/Installation.html">vignette("Installation")</a></code> covers R, RStudio, and package installation; and installing in a Docker container.</p></li>
<li><p>Updated installation instructions everywhere to use remotes instead of devtools and do not re-install packages unnecessarily.</p></li>
<li><p>Expanded “Learn More”” section in README.md to link to all vignettes as well as the BirdFlow paper.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9021" id="birdflowr-0009021-2023-03-03">BirdFlowR 0.0.0.9021 2023-03-03<a class="anchor" aria-label="anchor" href="#birdflowr-0009021-2023-03-03"></a></h2>
<ul><li>Updated preprocess_species()
<ul><li>Now only downloads the files it needs <a href="https://github.com/birdflow-science/BirdFlowR/issues/21" class="external-link">#21</a>
</li>
<li>Slight adjustment to resolution heuristic, it should take fewer steps to find the right resolution.</li>
<li>Added additional tests to cover error conditions and clipping</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9019" id="birdflowr-0009019-2023-03-01">BirdFlowR 0.0.0.9019 2023-03-01<a class="anchor" aria-label="anchor" href="#birdflowr-0009019-2023-03-01"></a></h2>
<ul><li>Nomenclature cleanup (round 1)
<ul><li>collapse_distr(x, bf) -&gt; collapse_raster(raster, bf)</li>
<li>evaluate_perfomance(bf) -&gt; evaluate_performance(x)</li>
<li>expand_distr(x, bf) -&gt; expand_distr(distr, bf)</li>
<li>get_distr(which, bf, from_marginals) -&gt; get_distr(x, which, from_marginals)</li>
<li>get_transition(x, bf) -&gt; get_transition(x, transition)</li>
<li>lookup_transitions(start, end, bf, direction) -&gt; lookup_transition(x, start, end, direction)</li>
<li>sample_distr(x, bf) -&gt; sample_distr(distr, bf)</li>
</ul></li>
<li>No longer exported:
<ul><li>evaluate_performance()</li>
<li>find_dead_ends()</li>
<li>find_threshold()</li>
<li>fix_dead_ends()</li>
<li>import_prototype()</li>
<li>lookup_transitions()</li>
<li>new_BirdFlow()</li>
<li>transition_from_marginal()</li>
</ul></li>
<li>Added “@keyword internal” to documentation for all non-exported functions. This removes the documentation from the package manual and index, but it’s still accessible with ?function_name.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9016" id="birdflowr-0009016-2023-02-27">BirdFlowR 0.0.0.9016 2023-02-27<a class="anchor" aria-label="anchor" href="#birdflowr-0009016-2023-02-27"></a></h2>
<ul><li>Added package down. Starting to use <a href="https://semver.org/" class="external-link">semantic versioning</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9017" id="birdflowr-0009017-2023-02-27">BirdflowR 0.0.0.9017 2023-02-27<a class="anchor" aria-label="anchor" href="#birdflowr-0009017-2023-02-27"></a></h2>
<ul><li>Fix bug introduced by ebirdst 2.2021.0 (switch from raster to terra) <a href="https://github.com/birdflow-science/BirdFlowR/issues/17" class="external-link">#17</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9003" id="birdflowr-0009003-2023-02-27">BirdFlowR 0.0.0.9003 2023-02-27<a class="anchor" aria-label="anchor" href="#birdflowr-0009003-2023-02-27"></a></h2>
<ul><li><p>Updated installation instructions. Closing <a href="https://github.com/birdflow-science/BirdFlowR/issues/11" class="external-link">#11</a>.</p></li>
<li><p>Added docker file. <a href="https://github.com/birdflow-science/BirdFlowR/pull/15#issuecomment-1445152787" class="external-link">Usage instructions.</a></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9002" id="birdflowr-0009002-2023-02-23">BirdFlowR 0.0.0.9002 2023-02-23<a class="anchor" aria-label="anchor" href="#birdflowr-0009002-2023-02-23"></a></h2>
<ul><li><p>Added “biocViews:” before “Imports:” in DESCRIPTION so that devtools can find and install rhdf5 (from Bioconductor) while installing the packages BirdFlowR needs. <a href="https://github.com/birdflow-science/BirdFlowR/issues/13" class="external-link">#13</a></p></li>
<li><p>Vignette now attempts to load rnaturalearthdata with utils::install.packages() instead of devtools::install_cran() in attempt to fix <a href="https://github.com/birdflow-science/BirdFlowR/issues/11" class="external-link">#11</a></p></li>
<li><p>Updated get_naturalearth() so that it handles some cases in which it previously failed. In particular extents that span more than 180 deg of longitude, and extents that cross the 180 deg. meridian that defines the edge of the WGS84 projection both now work. The function still doesn’t handle polar projections or global extents in most projections. Fixes <a href="https://github.com/birdflow-science/BirdFlowR/issues/14" class="external-link">#14</a></p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9001" id="birdflowr-0009001-2023-02-21">BirdFlowR 0.0.0.9001 2023-02-21<a class="anchor" aria-label="anchor" href="#birdflowr-0009001-2023-02-21"></a></h2>
<ul><li><p>Switched order of package installation in readme and added installation of rnaturalearthdata to vignette <a href="https://github.com/birdflow-science/BirdFlowR/issues/11" class="external-link">#11</a></p></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ethan Plunkett, Daniel Sheldon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

