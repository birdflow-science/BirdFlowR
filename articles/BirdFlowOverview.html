<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="BirdFlowR">
<title>BirdFlow Model Overview, Uses, and Limitations • BirdFlowR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="BirdFlow Model Overview, Uses, and Limitations">
<meta property="og:description" content="BirdFlowR">
<meta property="og:image" content="https://birdflow-science.github.io/BirdFlowR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BirdFlowR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.1.0.9056</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/BirdFlowR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/BirdFlowOverview.html">BirdFlow Model Overview, Uses, and Limitations</a>
    <a class="dropdown-item" href="../articles/Installation.html">Detailed installation instructions</a>
    <a class="dropdown-item" href="../articles/Preprocess.html">Preprocess and sparsify</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/birdflow-science/BirdFlowR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>BirdFlow Model Overview, Uses, and Limitations</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/birdflow-science/BirdFlowR/blob/HEAD/vignettes/BirdFlowOverview.Rmd" class="external-link"><code>vignettes/BirdFlowOverview.Rmd</code></a></small>
      <div class="d-none name"><code>BirdFlowOverview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>BirdFlow infers how species migrate from weekly distribution
estimates produced by the <a href="https://ebird.org/science/status-and-trends" class="external-link">eBird Status and
Trends</a> project. Here’s an example of the input data to BirdFlow, a
Status and Trends animation of the weekly relative abundance of the
American Woodcock:</p>
<video width="960" controls><source src="https://birdflow-science.github.io/assets/img/amewoo-abundance-map-weekly-v2021-en.mp4" type="video/mp4"></source></video><p>We can clearly see the “movement” of the population from week to
week, but there is no explicit information about how individual birds
moved.</p>
<p>BirdFlow uses the weekly relative abundance information from Status
and Trends to create a model for how the species migrates. The model can
generate synthetic routes and predict where individual birds are likely
to move. For example, here are some synthetic routes for the American
Woodcock:</p>
<p><img src="https://birdflow-science.github.io/BirdFlowR/reference/figures/README-examples-1.png"></p>
<p>And here are some example forecasts for future locations of a bird
from a particular location during the week of January 4: <img src="https://birdflow-science.github.io/BirdFlowR/articles/BirdFlowR_files/figure-html/predict-1.png"></p>
<p>Each plot shows the forecasted distribution of future locations in a
given week for a bird that starts in the green square during the week of
January 4.</p>
<p>Scientists can use the <a href="https://github.com/birdflow-science/BirdFlowR" class="external-link">BirdFlowR
package</a> to generate routes, make forecasts, and more using models
provided by the BirdFlow team.</p>
</div>
<div class="section level2">
<h2 id="how-it-works">How it Works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>To understand the appropriate uses and limitations of BirdFlow, it’s
helpful to understand a little about how it works. (Much more
information is <a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.14052" class="external-link">in
our paper</a>.) Formally, a BirdFlow model is a probability distribution
over routes. In the image above, we saw 10 routes generated by sampling
from the probability distribution for a BirdFlow model. A reasonable way
to think about a probability distribution, and hence a BirdFlow model,
is through the routes it generates. For example, if we sampled a million
routes we could learn nearly all the statistical properties of the
distribution, such as where routes start, where they end, how much they
zig-zag, and so on. What properties do we want this distribution—or
these routes—to have? A BirdFlow model is learned or fit by adjusting
the probability distribution to balance several criteria encoded in a
loss function:</p>
<ul>
<li>The locations of the birds during each week should match the Status
and Trends distribution for that week. In our example with one million
routes, if we take the location along each route for the week of June
28, these million locations should match the Status and Trends relative
abundance map for the week of June 28.</li>
<li>The routes should be biologically realistic, for example, they
should not zig-zag all over the map or move unrealistically far in one
week. This is achieved by a component of the loss function based on
distance of migratory transitions.</li>
<li>The routes should be appropriately “dispersed”. Birds in one
location shouldn’t all go to exactly the same next location, nor should
they fly in completely random directions. BirdFlow uses an entropy term
in the loss function to encourage enough dispersion.</li>
</ul>
</div>
<div class="section level2">
<h2 id="memorylessness">“Memorylessness”<a class="anchor" aria-label="anchor" href="#memorylessness"></a>
</h2>
<p>An important property about BirdFlow models is that they are
“memoryless”: when generating a route, a bird’s next location depends
only on its current location, and not on the full sequence of past
locations. In other words, there is no “state” or “memory” for a bird
other than it’s current location. For example, the model does not track
a bird’s energetic reserves or intended destination. Mathematically, the
model is a <a href="https://en.wikipedia.org/wiki/Markov_chain" class="external-link">Markov
chain</a>. There are good computational and statistical reasons for this
choice, but it limits the use in some ways we will describe more below.
In the future, we intend to try different types of models, but there
will always be tension between model complexity and available
data—fine-grained behavior could be hard to learn from Status and Trends
data. In fact, a memoryless model is <em>optimal</em> for the BirdFlow
loss function that captures the criteria described above.</p>
</div>
<div class="section level2">
<h2 id="interpretation-and-uses">Interpretation and Uses<a class="anchor" aria-label="anchor" href="#interpretation-and-uses"></a>
</h2>
<p>How should BirdFlow’s routes and forecasts be interpreted? It’s
important to remember synthetic routes are <em>not</em> the same as the
routes of real tracked birds. The guarantee is that if you put together
many synthetic routes, they will match the population-level properties
from Status and Trends data. Further, we tune the model so routes are
biologically plausible: they don’t travel farther than needed, don’t
zig-zag too much, etc. Most BirdFlow models are also tuned with some
tracking data so the dispersion in movements roughly matches that of
tracked birds from the same species—for example, if we take a real
tracked bird and forecast a distribution of its next location, then
about 90% of the time its <em>actual</em> next location should fall
within a 90% probability region of the forecasted distribution.</p>
<p>BirdFlow is exciting because it can synthesize and forecast migration
routes for many species across their entire range without needing
extensive tracking data. In general, we expect BirdFlow to capture
coarse-scale properties of a species’ migration well, which could have
exciting potential uses:</p>
<ul>
<li>Provide synthetic migration routes that match observed
population-level properties</li>
<li>Quantify broad-scale directionality of movement</li>
<li>Inform where birds in a given location are likely to go next, or
where they came from, for example, to help understand spread of diseases
like avian influenza</li>
<li>Explore hypotheses about migratory connectivity</li>
<li>Compare statistics of movement across species</li>
</ul>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>It’s also important to understand the limitations of BirdFlow. The
primary evidence used to fit BirdFlow models is Status and Trends data.
There could be many different models (think: sets of migration routes)
that match the Status and Trends data well. For example, we might choose
one model where all birds migrate a medium distance, but another model
where some birds migrate a short distance and others migrate a long
distance might match the Status and Trends equally well. The BirdFlow
fitting process has a few parameters that control the types of routes
that are selected (e.g., many short hops vs. fewer longer hops, amount
of dispersion in routes). In <a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.14052" class="external-link">our
paper</a> we tuned these parameters to match real routes of tracked
birds for 11 species as well as possible, and the resulting models
predicted movements of tracked birds significantly better than a
baseline model. However, we do not expect BirdFlow’s synthetic routes or
forecasts to match real movements in every detail. Some specific
limitations are:</p>
<ul>
<li>Details of individual routes such as the number of hops, length of
stopovers, or lengths of hops may or may not match real routes.</li>
<li>Due to memorylessness, BirdFlow routes don’t typically have site
fidelity (where a bird returns to a location year after year). For this
reason we currently recommend using BirdFlow to generate routes and make
forecasts for a period of less than one year, for example, a single
migration season.</li>
<li>Due to memorylessness, BirdFlow cannot distinguish between
subpopulations with different migration strategies; it would instead mix
the two subpopulations. We think this is not a major issue for species
with subpopulations that are separated in space or time, but BirdFlow
users should be aware of this limitation and consider it in light of
their intended use.</li>
<li>BirdFlow’s time step is weekly and it cannot model movements at a
finer time scale, such as daily movements.</li>
<li>BirdFlow uses a grid to represent locations and cannot model
movements at a spatial scale finer than the grid resolution.</li>
<li>BirdFlow uses Status and Trends relative abundance data as input and
requires adequate Status and Trends coverage of a species’ range to
create a model. All models we provide are judged to have adequate
coverage, but we can’t currently create models for every species.</li>
<li>Status and Trends relative abundance estimates are great, but not
perfect. BirdFlow will reproduce any inaccuracies present in the Status
and Trends estimates.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ethan Plunkett, National Science Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
